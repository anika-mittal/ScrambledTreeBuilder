% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/esr.R
\name{cladeESRtable}
\alias{cladeESRtable}
\title{Aggregate ESR scores by clade}
\usage{
cladeESRtable(tb_points, z_cut = 1, require_low_x = TRUE)
}
\arguments{
\item{tb_points}{A data.frame/tibble returned by \code{\link[=compute_esr_points]{compute_esr_points()}}}

\item{z_cut}{Threshold on standardized excess (\code{ESRz}) to tag FAST/SLOW (default 1).}

\item{require_low_x}{If \code{TRUE}, "FAST" must also have \code{x_mean} <= median \code{x_mean}.}
}
\value{
A tibble with one row per clade:
\code{clade}, \code{ESR} (mean raw residual), \code{ESRz} (mean standardized),
\code{x_mean}, \code{y_mean}, \code{n_nodes}, and \code{ESR_label}.
}
\description{
Summarise point-level ESR statistics at the clade level using weighted means
(weights = \code{n} when available). Optionally require that "FAST" clades also
sit on the lower-divergence side (x_mean <= median x_mean).
}
\examples{
tb_esr <- MRCAs(Halo_DF, Halo_FocalClades) |> compute_esr_points()
esr_by_clade(tb_esr, z_cut = 1)

}
\author{
Anika Mittal
}
